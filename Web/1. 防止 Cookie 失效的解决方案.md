# 防止Cookie失效的解决方案
在爬虫的时候，有时候需要用到Cookie去网站爬取一些数据，Cookie不失效当然是最开心的，但常常会遇到Cookie失效导致爬取失败，大概有以下解决方案可供参考：

* **可以直接用帐号密码登录获取最新Cookie。** 有一些网站的Cookie每隔一段时间必定失效，这时候通常只能通过帐号密码获取最新Cookie，但是一般都会遇到验证码，所以破解验证码也是需要考虑的。  

* **可以对Cookie进行改造。** 
有一些网站的Cookie里包含了有效期字段，那么可以把有效期字段删除或更改到无限长，则可以让Cookie不过期。此外，一般Cookie也只会与几个关键字段有关，所以可以只留下关键字段，把无关字段删除，也是不会影响Cookie的有效期的。甚至，有一些Cookie是前端通过算法生成，往往有加密过程，这个就很复杂了。

* **可以采用心跳包机制。** 有一些网站刷新了页面可以让Cookie不失效，实质是刷新了Cookie的过期时间，所以，可以每隔一段时间发起一下请求，激活一下，这样就可以不断刷新Cookie的过期时间。  

* **可以发起某些能返回最新Cookie的请求。** 有另外一些网站刷新了页面也可以让Cookie不失效，但它与心跳包机制不同，它是在Cookie失效的时候会发起一系列请求来刷新Cookie，这时候通常会返回最新的Cookie回来，所以，可以通过浏览器的F12或者抓包工具来找到这些请求，在需要最新Cookie的时候发起这些请求来获取。
